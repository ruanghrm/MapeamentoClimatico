<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Interativo - Belém</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.9.1/proj4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-proj4/1.0.0/leaflet-proj4.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="map"></div>
    <div id="toggle-container">
        <label class="switch">
            <input type="checkbox" id="toggle-layer">
            <span class="slider"></span>
        </label>
        <label class="switch">
            <input type="checkbox" id="toggle-risco">
            <span class="slider"></span>
        </label>
        <label class="switch">
            <input type="checkbox" id="toggle-queimadas">
            <span class="slider"></span>
        </label>
        <label class="switch">
            <input type="checkbox" id="toggle-arborizacao">
            <span class="slider"></span>
        </label>
        <label class="switch">
            <input type="checkbox" id="toggle-vegetacao">
            <span class="slider"></span>
        </label>
        <label class="switch">
            <input type="checkbox" id="toggle-gases">
            <span class="slider"></span>
        </label>
    </div>    
    <div id="legend-popup" class="legend" style="display: none;">
        <h2>Classes de Vegetação</h2>
        <ul>
            <li><span class="legend-color" style="background-color: rgb(0, 100, 0);"></span> Vegetação Densa</li>
            <li><span class="legend-color" style="background-color: rgb(102, 205, 102);"></span> Vegetação Moderada</li>
            <li><span class="legend-color" style="background-color: rgb(204, 255, 204);"></span> Vegetação Baixa</li>
        </ul>
    </div>
    <div id="legend-popup2" class="legend2" style="display: none;">
        <h2>Áreas de Risco</h2>
        <ul>
            <li><span class="legend-color2" style="background-color: rgb(255, 0, 0);"></span> Risco Muito Alto</li>
            <li><span class="legend-color2" style="background-color: rgb(255, 165, 0);"></span> Risco Alto</li>
        </ul>
    </div>
    
    <div id="weather-data">
        <p id="temperatura"><i class="fas fa-thermometer-half"></i> Carregando temperatura...</p>
        <p id="sensacao_termica"><i class="fas fa-temperature-high"></i> Carregando sensação térmica...</p>
        <p id="precipitacao"><i class="fas fa-cloud-showers-heavy"></i> Carregando precipitação...</p>
        <p id="umidade"><i class="fas fa-tint"></i> Carregando umidade...</p>
        <p id="vento"><i class="fas fa-wind"></i> Carregando velocidade do vento...</p>
    </div>
    
    <div id="info-panel" class="hide">
        <div id="close-panel" onclick="closeInfoPopup()">
            <i class="fas fa-times"></i>
        </div>
    </div>
    
        <h2>Mapa de Qualidade do Ar - Belém do Pará</h2>
        <div id="year-selection">
            <button onclick="selectYear(2020)">2020</button>
            <button onclick="selectYear(2021)">2021</button>
            <button onclick="selectYear(2022)">2022</button>
            <button onclick="selectYear(2023)">2023</button>
        </div>
    
        <div id="transport-icons">
            <i class="fas fa-walking" title="A pé" onclick="updateDashboard('a_pe')"></i>
            <i class="fas fa-bicycle" title="Bicicleta" onclick="updateDashboard('bicicleta')"></i>
            <i class="fas fa-car" title="Automóvel" onclick="updateDashboard('automovel')"></i>
            <i class="fas fa-ship" title="Balsa" onclick="updateDashboard('balsa')"></i>
            <i class="fas fa-motorcycle" title="Motocicleta" onclick="updateDashboard('motocicleta')"></i>
            <i class="fas fa-bus" title="Ônibus" onclick="updateDashboard('onibus')"></i>
        </div>
    
        <div class="divider"></div>

        <div id="dashboard-container">
            <iframe id="dashboard-frame" src="" frameborder="0" style="width: 100%; height: 310px;"></iframe>
        </div>

        <div id="info-content">
            <div id="building-chart" style="margin-bottom: 20px;"></div>
            <div id="emissions-chart" style="margin-bottom: 20px;"></div>
            <div id="impact-chart" style="margin-bottom: 20px;"></div>
        </div>
    </div>
    <script src="js/script.js"></script>
</body>
</html>
